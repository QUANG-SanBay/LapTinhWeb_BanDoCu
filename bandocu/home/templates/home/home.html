{% extends 'home/base.html' %}
{% load static %}
{% block title %}Trang chủ{% endblock %}
{% block content %}
<main class="main-content"> 
    <div class="grib wide">
        <section class="banner">
            <div class="floating-elements">
                <i class="fas fa-leaf floating-leaf"></i>
                <i class="fas fa-seedling floating-leaf"></i>
                <i class="fas fa-recycle floating-leaf"></i>
            </div>
            
            <div class="banner-content">
                <div class="banner-left">
                    <h1 class="banner__title-text">
                        Chào mừng bạn đến với <span class="banner__highlight">SECOND HAND</span>
                    </h1>
                    <p class="banner__subtitle-text">
                        Nơi bạn có thể mua bất cứ thứ gì với <strong>giá hợp túi tiền</strong>
                    </p>
                    <p class="banner__subtitle-text">
                        Hãy cùng nhau khám phá các tính năng và dịch vụ của chúng tôi
                    </p>
                    
                    <div class="banner__features">
                        <div class="feature-item">
                            <i class="fas fa-mobile-screen-button feature-icon"></i>
                            <span class="feature-text">Điện thoại</span>
                        </div>
                        <div class="feature-item">
                            <i class="fas fa-tshirt feature-icon"></i>
                            <span class="feature-text">Quần áo</span>
                        </div>
                        <div class="feature-item">
                            <i class="fas fa-laptop feature-icon"></i>
                            <span class="feature-text">Laptop</span>
                        </div>
                        <div class="feature-item">
                            <i class="fas fa-chair feature-icon"></i>
                            <span class="feature-text">Nội thất</span>
                        </div>
                        <div class="feature-item">
                            <i class="fas fa-book feature-icon"></i>
                            <span class="feature-text">Sách vở</span>
                        </div>
                        <div class="feature-item">
                            <i class="fas fa-gamepad feature-icon"></i>
                            <span class="feature-text">Điện tử</span>
                        </div>
                    </div>
                    
                    <div class="banner__cta">
                        <a href="#category" class="cta-btn cta-primary">
                            <i class="fas fa-shopping-cart"></i>
                            Khám phá sản phẩm
                        </a>
                        {% if user.user_type == 'buyer'  %}
                            <a href="{% url 'confirm_seller_info' %}" class="cta-btn cta-secondary">
                                <i class="fas fa-plus-circle"></i>
                                Đăng bán ngay
                            </a>
                        {% elif user.user_type == 'seller' %}
                            <a href="{% url 'seller:home_seller' %}" class="cta-btn cta-secondary">
                                <i class="fas fa-plus-circle"></i>
                                Đăng bán ngay
                            </a>
                        {% endif %}
                    </div>
                </div>
                
                <div class="banner-right">
                    <div class="eco-visual">
                        <div class="eco-circle"></div>
                        <div class="eco-circle"></div>
                        <div class="eco-icons">
                            <div class="eco-icon">
                                <i class="fas fa-mobile-screen-button"></i>
                            </div>
                            <div class="eco-icon">
                                <i class="fas fa-tshirt"></i>
                            </div>
                            <div class="eco-icon">
                                <i class="fas fa-laptop"></i>
                            </div>
                            <div class="eco-icon">
                                <i class="fas fa-chair"></i>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
        <section class="category" id= "category">
            <div class="category__title">
                <h2 class="category__title-text">Danh mục</h2>
            </div>
        <ul class="category__list row">
            <li class="category__item col c-4 m-4 l-2 ll-2">
                <a href="{% url 'category_detail' 1 %}" class="category__item-link">
                    <h3 class="category__item-title">Điện thoại</h3>
                    <div class="category__item-icon">
                        <i class="fa-solid fa-mobile-screen-button" style="color: #2196f3;"></i>
                    </div>
                </a>
            </li>
            <li class="category__item col c-4 m-4 l-2 ll-2">
                <a href="{% url 'category_detail' 2 %}" class="category__item-link">
                    <h3 class="category__item-title">Laptop</h3>
                    <div class="category__item-icon">
                        <i class="fa-solid fa-laptop" style="color: #4caf50;"></i>
                    </div>
                </a>
            </li>
            <li class="category__item col c-4 m-4 l-2 ll-2">
                <a href="{% url 'category_detail' 3 %}" class="category__item-link">
                    <h3 class="category__item-title">Bàn/ghế</h3>
                    <div class="category__item-icon">
                        <i class="fa-solid fa-chair" style="color: #ff9800;"></i>
                    </div>
                </a>
            </li>
            <li class="category__item col c-4 m-4 l-2 ll-2">
                <a href="{% url 'category_detail' 4 %}" class="category__item-link">
                    <h3 class="category__item-title">Sách vở</h3>
                    <div class="category__item-icon">
                        <i class="fa-solid fa-book" style="color: #9c27b0;"></i>
                    </div>
                </a>
            </li>
            <li class="category__item col c-4 m-4 l-2 ll-2">
                <a href="{% url 'category_detail' 5 %}" class="category__item-link">
                    <h3 class="category__item-title">Tai nghe</h3>
                    <div class="category__item-icon">
                        <i class="fa-solid fa-headphones" style="color: #e91e63;"></i>
                    </div>
                </a>
            </li>
            <li class="category__item col c-4 m-4 l-2 ll-2">
                <a href="{% url 'category_detail' 6 %}" class="category__item-link">
                    <h3 class="category__item-title">Loa</h3>
                    <div class="category__item-icon">
                        <i class="fa-solid fa-volume-high" style="color: #f44336;"></i>
                    </div>
                </a>
            </li>
        </ul>
        </section>
        <section class="products">
            <div class="products__title">
                <h2 class="products__title-text">Gợi ý sản phẩm</h2>
            </div>
            <ul class="row prodcuts__lists">
                {% for product in products %}
                <li class="products__item col c-4 m-3 l-2 ll-2">
                    <a href="{% url 'chiTietSP' product.id %}" class="products__item-link">
                        <div class="products__item-image">
                            {% if product.HinhAnh %}
                                <img src="{{ product.HinhAnh.url }}" alt="Product Image">
                            {% else %}
                                <img src="{% static 'home/imgs/default.png' %}" alt="No Image">
                            {% endif %}
                        </div>
                        <h3 class="products__item-name">{{ product.TenSanPham }}</h3>
                        <p class="products__item-price">{{ product.Gia|floatformat:0 }} VNĐ</p>
                        <span class="products__item-sold">Đã bán: {{ product.SoLuong }}</span>
                    </a>
                </li>
                {% empty %}
                <li>Không có sản phẩm nào.</li>
                {% endfor %}
            </ul>
            <div class="products__view-more">
                <a href="{% url 'all_products' %}" class="products__view-more-link">Xem thêm</a>
            </div>
        </section>
        <section class="products">
            <div class="products__title">
                <h2 class="products__title-text">Sản phẩm mới</h2>
            </div>
            <ul class="row prodcuts__lists">
                {% for product in new_products %}
                <li class="products__item col c-4 m-3 l-2 ll-2">
                    <a href="{% url 'chiTietSP' product.id %}" class="products__item-link">
                        <div class="products__item-image">
                            {% if product.HinhAnh %}
                                <img src="{{ product.HinhAnh.url }}" alt="Product Image">
                            {% else %}
                                <img src="{% static 'home/imgs/default.png' %}" alt="No Image">
                            {% endif %}
                        </div>
                        <h3 class="products__item-name">{{ product.TenSanPham }}</h3>
                        <p class="products__item-price">{{ product.Gia|floatformat:0 }} VNĐ</p>
                        <span class="products__item-sold">Đã bán: {{ product.SoLuong }}</span>
                    </a>
                </li>
                {% empty %}
                <li>Không có sản phẩm nào.</li>
                {% endfor %}
            </ul>
            <div class="products__view-more">
                <a href="{% url 'new_products' %}" class="products__view-more-link">Xem thêm</a>
            </div>
        </section>
    </div>
</main>

{% endblock %}

{% block home_js %}
    <script src="{% static 'home/js/home.js' %}"></script>
{% endblock home_js %}